/**
--------------------------------------------------------------------
âœ… Problem: Valid Parentheses

You are given a string `s` containing just the characters:
'(', ')', '{', '}', '[' and ']'.

Your task is to determine if the input string is **valid**.

A string is valid if:
1ï¸âƒ£ Open brackets are closed by the same type of brackets.  
2ï¸âƒ£ Open brackets are closed in the correct order.  

Example 1:
Input: s = "()"
Output: true

Example 2:
Input: s = "({[]})"
Output: true

Example 3:
Input: s = "(]"
Output: false

--------------------------------------------------------------------
âœ… Approach: Stack-Based Matching

ğŸ’¡ **Core Idea:**
Use a **stack** to track the most recent unclosed opening brackets.

Steps:
1ï¸âƒ£ Traverse each character `ch` in the string.
2ï¸âƒ£ If it's an opening bracket â†’ push it onto the stack.
3ï¸âƒ£ If it's a closing bracket:
   - If the stack is empty â†’ invalid.
   - If the top element doesnâ€™t match the correct opening bracket â†’ invalid.
   - Else, pop the top of the stack.
4ï¸âƒ£ After traversal, if the stack is empty â†’ valid parentheses.

--------------------------------------------------------------------
âœ… Implementation:
*/

class Solution {
public:
    bool isValid(string s) {
        stack<char> st;

        for (char ch : s) {
            // Step 1: Push opening brackets
            if (ch == '(' || ch == '[' || ch == '{') {
                st.push(ch);
            } 
            // Step 2: Handle closing brackets
            else {
                if (st.empty()) return false;

                // Check for matching pair
                if ((ch == ')' && st.top() != '(') ||
                    (ch == ']' && st.top() != '[') ||
                    (ch == '}' && st.top() != '{'))
                    return false;

                // If matched, pop the opening bracket
                st.pop();
            }
        }

        // Step 3: Ensure all brackets are closed
        return st.empty();
    }
};

/**
--------------------------------------------------------------------
âœ… Dry Run Example:

Input: s = "{[()]}"

Step-by-step:
- Push '{' â†’ stack = ['{']
- Push '[' â†’ stack = ['{', '[']
- Push '(' â†’ stack = ['{', '[', '(']
- Found ')' â†’ pop '(' â†’ stack = ['{', '[']
- Found ']' â†’ pop '[' â†’ stack = ['{']
- Found '}' â†’ pop '{' â†’ stack = []

Final stack = empty â†’ âœ… Valid

--------------------------------------------------------------------
âœ… Time Complexity:
O(n) â€” Each character is pushed or popped once.

âœ… Space Complexity:
O(n) â€” In the worst case (all opening brackets).

âœ… Concepts Used:
- Stack (LIFO)
- Matching pair validation
- Edge case handling (empty stack, mismatch)

âœ… Edge Cases:
- s = "" â†’ true (empty string is valid)
- s = "([)]" â†’ false (incorrect nesting)
- s = "(((((" â†’ false (unclosed brackets)

--------------------------------------------------------------------
*/
