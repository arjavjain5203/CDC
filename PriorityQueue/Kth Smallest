/**
--------------------------------------------------------------------
‚úÖ Problem: Kth Smallest Element in an Array (GFG / LeetCode Variant)

Given an array `arr[]` and an integer `k`, find the **kth smallest element** in the array.

‚ö° Example:
Input: arr = [7, 10, 4, 3, 20, 15], k = 3  
Output: 7  
Explanation: The 3rd smallest element is 7.

--------------------------------------------------------------------
‚úÖ Approach: Using Max-Heap of Size K

üí° **Idea:**
- Maintain a **max-heap** (priority_queue in C++) of size `k`.
- Push elements one by one into the heap.
- If the heap size exceeds `k`, remove the largest element (top of heap).
- After processing all elements, the **top of the heap** will be the `kth smallest` element.

Why max-heap?
- Because we always want to keep track of the smallest `k` elements.
- The largest among them (top of max-heap) is the `kth smallest`.

--------------------------------------------------------------------
‚úÖ Implementation:
*/

#include <bits/stdc++.h>
using namespace std;

class Solution {
public:
    int kthSmallest(vector<int>& arr, int k) {
        // Step 1: Create a max-heap
        priority_queue<int> pq;

        // Step 2: Traverse the array
        for (int i = 0; i < arr.size(); i++) {
            // Push current element
            pq.push(arr[i]);

            // Step 3: If heap size > k, remove the largest element
            if (pq.size() > k) {
                pq.pop();
            }
        }

        // Step 4: The top element is the kth smallest
        return pq.top();
    }
};

/**
--------------------------------------------------------------------
‚úÖ Dry Run Example:

Input:
arr = [7, 10, 4, 3, 20, 15], k = 3

Steps:
1Ô∏è‚É£ Push 7 ‚Üí heap = [7]
2Ô∏è‚É£ Push 10 ‚Üí heap = [10, 7]
3Ô∏è‚É£ Push 4 ‚Üí heap = [10, 7, 4]
   (size == k)
4Ô∏è‚É£ Push 3 ‚Üí heap = [10, 7, 4, 3] ‚Üí pop(10) ‚Üí heap = [7, 3, 4]
5Ô∏è‚É£ Push 20 ‚Üí heap = [20, 7, 4, 3] ‚Üí pop(20) ‚Üí heap = [7, 3, 4]
6Ô∏è‚É£ Push 15 ‚Üí heap = [15, 7, 4, 3] ‚Üí pop(15) ‚Üí heap = [7, 3, 4]

‚úÖ Top = 7 ‚Üí 3rd smallest element

--------------------------------------------------------------------
‚úÖ Time Complexity:
- Insertion into heap ‚Üí O(log k)
- For n elements ‚Üí O(n log k)

‚úÖ Space Complexity:
O(k) ‚Äî heap stores at most k elements

‚úÖ Concepts Used:
- Heap (Priority Queue)
- Max-Heap Logic for kth Smallest

--------------------------------------------------------------------
*/
