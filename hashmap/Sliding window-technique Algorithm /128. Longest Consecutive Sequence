/**
--------------------------------------------------------------------
âœ… Problem: Longest Consecutive Sequence (LeetCode #128)

Given an unsorted array of integers `nums`, return the length of the
**longest consecutive elements sequence**.

âš¡ Example:
Input:  [100, 4, 200, 1, 3, 2]
Output: 4   // The longest consecutive sequence is [1, 2, 3, 4]

--------------------------------------------------------------------
âœ… Approach: HashSet + Sequence Expansion

ðŸ’¡ **Idea:**
- Insert all numbers into an unordered_set for **O(1)** lookup.
- For each number `x`, check if it is the **start of a sequence**  
  (i.e., `x - 1` does not exist in the set).
- If yes, expand forward (`x + 1, x + 2, ...`) to count the sequence length.
- Keep track of the **maximum length** found.

ðŸ‘‰ Each number is visited at most once during expansion,  
so total time complexity remains **O(n)**.

--------------------------------------------------------------------
âœ… Implementation:
*/

class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        if (nums.empty()) return 0;

        unordered_set<int> visited(nums.begin(), nums.end());
        int longest = 0;

        for (int num : visited) {
            // Only start counting if this number is the start of a sequence
            if (visited.find(num - 1) == visited.end()) {
                int current = num;
                int length = 1;

                // Expand forward
                while (visited.find(current + 1) != visited.end()) {
                    current++;
                    length++;
                }

                longest = max(longest, length);
            }
        }

        return longest;
    }
};

/**
--------------------------------------------------------------------
âœ… Dry Run Example:

Input: nums = [100, 4, 200, 1, 3, 2]

Set = {100, 4, 200, 1, 3, 2}

- Start from 100 â†’ sequence [100] â†’ length = 1
- Start from 4 â†’ previous (3) exists â†’ skip
- Start from 200 â†’ previous (199) missing â†’ sequence [200] â†’ length = 1
- Start from 1 â†’ previous (0) missing â†’ expand â†’ [1, 2, 3, 4] â†’ length = 4

âœ… Output: 4

--------------------------------------------------------------------
âœ… Time Complexity:
O(n) â€” each element is processed at most once

âœ… Space Complexity:
O(n) â€” storing elements in unordered_set

âœ… Concepts Used:
- Hashing
- Set Lookup
- Sequence Expansion
--------------------------------------------------------------------
*/
